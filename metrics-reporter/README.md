# How does metrics reporter controller work?

The metrics-reporter component provides HTTP endpoint for receiving metrics generated by Load Generator during test execution.

### Reporter-Controller

- Implements POST Request to receive metrics data.
- Will be called by MetricsReporterClient in Load-Generator when all thread are finished.
- It accepts metrics as JSON DTO.
- With it connectivity between Load Generator and Metrics-reporter can be verified.

### Metrics DTO

Implements DTO class to hold all metrics information.
Apart from the metrics it contains Load-generator instance name to know where they come from.
Information that is stored (comes from Load-Generator):

- Load-generator instance
- Request Type
- Round-trip time in [ms]
- Json Response from query

### Expected Workflow

1. Load-Generators run multi-threaded queries
2. When all queries are finished, LoadRunner component sends signal to MetricsReporterClient
3. Clients builds a HTTP request to send metrics data to ReportController of MetricsReporter
4. ReportController receives metrics, checks for validity and temporary stores them
5. ReportCreator can use getMetrics() method to get all metrics data
6. Report is created from that data


